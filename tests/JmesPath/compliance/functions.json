[{
  "given":
  {
    "foo": -1,
    "zero": 0,
    "arr": [-1, 3, 4, 5, "a", "100"],
    "strings": ["a", "b", "c"],
    "dec": [1.01, 1.9, -1.5],
    "str": "Str",
    "false": false,
    "empty": [],
    "empty2": {}
  },
  "cases": [
    {
      "expression": "abs(@.foo)",
      "result": 1
    },
    {
      "expression": "abs(foo)",
      "result": 1
    },
    {
      "expression": "abs(@.str)",
      "result": null
    },
    {
      "expression": "abs(str)",
      "result": null
    },
    {
      "expression": "abs(@.arr[1])",
      "result": 3
    },
    {
      "expression": "abs(arr[1])",
      "result": 3
    },
    {
      "expression": "abs(false)",
      "result": null
    },
    {
      "expression": "abs(_false)",
      "result": null
    },
    {
      "expression": "abs(1, 2, 3)",
      "error": "runtime"
    },
    {
      "expression": "abs()",
      "error": "runtime"
    },
    {
      "expression": "avg(@.arr)",
      "result": 2.75
    },
    {
      "expression": "avg(arr)",
      "result": 2.75
    },
    {
      "expression": "avg(_\"abc\")",
      "result": null
    },
    {
      "expression": "avg(@.foo)",
      "result": null
    },
    {
      "expression": "avg(foo)",
      "result": null
    },
    {
      "expression": "avg(@)",
      "result": null
    },
    {
      "expression": "avg(@.strings)",
      "result": null
    },
    {
      "expression": "avg(strings)",
      "result": null
    },
    {
      "expression": "ceil(@.dec[0])",
      "result": 2
    },
    {
      "expression": "ceil(dec[0])",
      "result": 2
    },
    {
      "expression": "ceil(@.dec[1])",
      "result": 2
    },
    {
      "expression": "ceil(dec[1])",
      "result": 2
    },
    {
      "expression": "ceil(@.dec[2])",
      "result": -1
    },
    {
      "expression": "ceil(dec[2])",
      "result": -1
    },
    {
      "expression": "ceil(abc)",
      "result": null
    },
    {
      "expression": "ceil(_\"abc\")",
      "result": null
    },
    {
      "expression": "concat(@.strings[0], strings[1], @.strings[2])",
      "result": "abc"
    },
    {
      "expression": "concat(strings[0], strings[1], @.strings[2], foo)",
      "result": "abc-1"
    },
    {
      "expression": "concat(@.strings[0], @.strings[1], strings[2], @)",
      "result": "abc"
    },
    {
      "expression": "concat(_null, _false)",
      "result": null
    },
    {
      "expression": "concat(_\"foo\")",
      "error": "runtime"
    },
    {
      "expression": "concat()",
      "error": "runtime"
    },
    {
      "expression": "contains(_\"abc\", _\"a\")",
      "result": true
    },
    {
      "expression": "contains(_\"abc\", _\"d\")",
      "result": false
    },
    {
      "expression": "contains(_false, _\"d\")",
      "result": null
    },
    {
      "expression": "contains(@.strings, _\"a\")",
      "result": true
    },
    {
      "expression": "contains(@.dec, _1.9)",
      "error": "runtime"
    },
    {
      "expression": "contains(@.dec, _false)",
      "error": "runtime"
    },
    {
      "expression": "length(@)",
      "result": 9
    },
    {
      "expression": "length(arr)",
      "result": 6
    },
    {
      "expression": "length(@.str)",
      "result": 3
    },
    {
      "expression": "floor(@.dec[0])",
      "result": 1
    },
    {
      "expression": "floor(dec[0])",
      "result": 1
    },
    {
      "expression": "floor(@.foo)",
      "result": -1
    },
    {
      "expression": "floor(@.str)",
      "result": null
    },
    {
      "expression": "get(@.empty)",
      "result": null
    },
    {
      "expression": "get(@.empty, @.\"false\")",
      "result": null
    },
    {
      "expression": "get(@.empty, @.\"false\", @.foo)",
      "result": -1
    },
    {
      "expression": "get(@.zero, _10)",
      "result": 0
    },
    {
      "expression": "get(_null, _false, @.empty, _true)",
      "result": true
    },
    {
      "expression": "join(_\", \", str)",
      "result": null
    },
    {
      "expression": "join(_\", \", strings)",
      "result": "a, b, c"
    },
    {
      "expression": "join(_\"|\", strings)",
      "result": "a|b|c"
    },
    {
      "expression": "join(_\"|\", @.dec)",
      "result": "1.01|1.9|-1.5"
    },
    {
      "expression": "join(_\"|\", @.empty)",
      "result": ""
    },
    {
      "expression": "keys(@)",
      "result": ["foo", "zero", "arr", "strings", "dec", "str", "false", "empty", "empty2"]
    },
    {
      "expression": "keys(@.empty2)",
      "result": []
    },
    {
      "expression": "keys(@.strings)",
      "result": null
    },
    {
      "expression": "keys(_\"abc\")",
      "result": null
    },
    {
      "expression": "keys(_false)",
      "result": null
    },
    {
      "expression": "length(_\"abc\")",
      "result": 3
    },
    {
      "expression": "length(_\"\")",
      "result": 0
    },
    {
      "expression": "length(@.foo)",
      "result": null
    },
    {
      "expression": "length(@.strings[0])",
      "result": 1
    },
    {
      "expression": "length(_false)",
      "result": null
    },
    {
      "expression": "lowercase(@.str)",
      "result": "str"
    },
    {
      "expression": "lowercase(_false)",
      "result": null
    },
    {
      "expression": "matches(@.str, _\"str\")",
      "result": false
    },
    {
      "expression": "matches(@.str, _\"str\", _\"i\")",
      "result": true
    },
    {
      "expression": "matches(@.str, _false)",
      "error": "runtime"
    },
    {
      "expression": "matches(@.str, _\"ST\", _\"im\")",
      "result": true
    },
    {
      "expression": "matches(_false, _\"str\")",
      "result": null
    },
    {
      "expression": "matches(_\"str\", _\"str\", _\"i\", 123)",
      "error": "runtime"
    },
    {
      "expression": "max(@.arr)",
      "result": 5
    },
    {
      "expression": "max(arr)",
      "result": 5
    },
    {
      "expression": "max(@.dec)",
      "result": 1.9
    },
    {
      "expression": "max(abc)",
      "result": null
    },
    {
      "expression": "max(@.empty)",
      "result": null
    },
    {
      "expression": "min(@.arr)",
      "result": -1
    },
    {
      "expression": "min(@.dec)",
      "result": -1.5
    },
    {
      "expression": "min(abc)",
      "result": null
    },
    {
      "expression": "min(@.empty)",
      "result": null
    },
    {
      "expression": "reverse(@.arr)",
      "result": ["100", "a", 5, 4, 3, -1]
    },
    {
      "expression": "reverse(@.strings)",
      "result":  ["c", "b", "a"]
    },
    {
      "expression": "reverse(abc)",
      "result": null
    },
    {
      "expression": "reverse(@.empty)",
      "result": null
    },
    {
      "expression": "reverse(@)",
      "result": null
    },
    {
      "expression": "sort(@.arr)",
      "result": [-1, 3, 4, 5, "a", "100"]
    },
    {
      "expression": "sort(@.strings)",
      "result":  ["a", "b", "c"]
    },
    {
      "expression": "sort(abc)",
      "result": null
    },
    {
      "expression": "sort(@.empty)",
      "result": []
    },
    {
      "expression": "sort(@)",
      "result": null
    },
    {
      "expression": "substring(_\"abc\", 0, -1)",
      "result": "ab"
    },
    {
      "expression": "substring(_\"abc\", -2)",
      "result": "bc"
    },
    {
      "expression": "substring(_\"abc123\", _1)",
      "result": "bc123"
    },
    {
      "expression": "substring(_false, 1, 1)",
      "result": null
    },
    {
      "expression": "substring(_\"abc\", _true)",
      "error": "runtime"
    },
    {
      "expression": "substring(_\"abc\", 1, _false)",
      "error": "runtime"
    },
    {
      "expression": "substring()",
      "error": "runtime"
    },
    {
      "expression": "type(_\"abc\")",
      "result": "String"
    },
    {
      "expression": "type(123)",
      "result": "Number"
    },
    {
      "expression": "type(_123)",
      "result": "Number"
    },
    {
      "expression": "type(_1.2)",
      "result": "Number"
    },
    {
      "expression": "type(_true)",
      "result": "Boolean"
    },
    {
      "expression": "type(_false)",
      "result": "Boolean"
    },
    {
      "expression": "type(@.empty)",
      "result": "Array"
    },
    {
      "expression": "type(empty)",
      "result": "Array"
    },
    {
      "expression": "type(@.strings)",
      "result": "Array"
    },
    {
      "expression": "type(@)",
      "result": "Object"
    },
    {
      "expression": "uppercase(@.str)",
      "result": "STR"
    },
    {
      "expression": "uppercase(_false)",
      "result": null
    }
  ]
}, {
  "given":
    [
      {"foo": "baz", "bar": "bam"},
      {"foo": "123"},
      {"abc": "def", "fez": "qux"},
      [1, 2, 3],
      "abc",
      true
    ],
  "cases": [
    {
      "expression": "union(@[0], @[1])",
      "result": {"foo": "baz", "bar": "bam"}
    },
    {
      "expression": "union(@[0], @[2])",
      "result": {"foo": "baz", "bar": "bam", "abc": "def", "fez": "qux"}
    },
    {
      "expression": "union(@[3], @[4])",
      "result": null
    },
    {
      "expression": "union(true, false)",
      "result": null
    },
    {
      "expression": "values(@[0])",
      "result": ["baz", "bam"]
    },
    {
      "expression": "values(@[1])",
      "result": ["123"]
    },
    {
      "expression": "values(@[3])",
      "result": [1, 2, 3]
    },
    {
      "expression": "values(@[4])",
      "result": null
    }
  ]
}]
